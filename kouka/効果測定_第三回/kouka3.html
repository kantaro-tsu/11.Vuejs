<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
    <script src="https://unpkg.com/microcms-js-sdk@latest/dist/umd/microcms-js-sdk.js"></script>
    <title>Vuejs効果測定第3回_課題</title>
    <link rel="icon" href="img/かぼす.jpg">
    <link rel="stylesheet" href="https://unpkg.com/ress/dist/ress.min.css">
    <link rel="stylesheet" href="style.css">
    <!-- googlefont -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora&family=M+PLUS+1p:wght@300&family=Zen+Antique&display=swap" rel="stylesheet">
    <!-- クリックしたら画像がポップアップ表示する用のリンク -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/js/lightbox.min.js" type="text/javascript"></script>
    <!-- ここまで -->
</head>
<body>
    <div id="app">
        <header id="header">
            <div class="site-title">
                <a href="kouka3.html">
                    <h1>かぼす</h1>
                    <img src="img/mainvisual.jpg" alt="">
                </a>
            </div>
            <div class="search-area">
                <nav>
                    <ul>
                        <li v-for="tab in tabList">
                            <button @click="showTabAlert(tab)">{{ tab }}</button>
                        </li>
                    </ul>
                </nav>
                <form @submit.prevent="searchGoogle">
                    <input type="text" v-model="searchWord" placeholder="">
                    <button type="submit"><img id="googleImg" src="img/google_img.png">検  索</button>
                </form>
            </div>
        </header>
        <div class="container">
            <div class="left">
                <div id="aveList">
                    <h2>I ♡ AVENGERS</h2>
                    <ul>
                        <li v-for="hero in heroList">
                            <my-component :hero-name="hero.name" :hero-image="hero.image" :hero-pic="hero.pic"></my-component>
                        </li>
                    </ul>
                </div>
                <div class="advert">
                    <section>
                        <div class="adTrans">
                            <transition-group>
                                <div class="adImage" v-if="isActive == 0" :key="isActive">
                                    <a href="https://shop.newbalance.jp/shop/?utm_source=google&utm_medium=cpc&utm_campaign=RT_1087&utm_term=86&utm_content=2506&gclid=Cj0KCQjw4NujBhC5ARIsAF4Iv6c3rO6xpPXWo_ngyf3BEjEwX9G8pV2tP2CgX_DpEG_zKZub0omtEMMaAvAsEALw_wcB" target="_blank"><img src="img/0.jpg" alt=""></a>
                                </div>
                                <div class="adImage" v-else-if="isActive == 1" :key="isActive">
                                    <a href="https://shop.newbalance.jp/shop/?utm_source=google&utm_medium=cpc&utm_campaign=RT_1087&utm_term=86&utm_content=2506&gclid=Cj0KCQjw4NujBhC5ARIsAF4Iv6c3rO6xpPXWo_ngyf3BEjEwX9G8pV2tP2CgX_DpEG_zKZub0omtEMMaAvAsEALw_wcB" target="_blank"><img src="img/1.jpg" alt=""></a>
                                </div>
                                <div class="adImage" v-else :key="isActive">
                                    <a href="https://shop.newbalance.jp/shop/?utm_source=google&utm_medium=cpc&utm_campaign=RT_1087&utm_term=86&utm_content=2506&gclid=Cj0KCQjw4NujBhC5ARIsAF4Iv6c3rO6xpPXWo_ngyf3BEjEwX9G8pV2tP2CgX_DpEG_zKZub0omtEMMaAvAsEALw_wcB" target="_blank"><img src="img/2.jpg" alt=""></a>
                                </div>
                            </transition-group>
                            <div class="adButton">
                                <button class="arrow_btn_l" @click="minButton"></button>
                                <button class="arrow_btn_r" @click="pluButton"></button>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
            <div class="main">
                <div class="spa-area">
                    <div id="map">
                        <div id="spaTab">
                            <ul id="tabCount">
                                <li v-for="country in g7List" :key="country">
                                    <input type="radio" name="tabset"  :id="country" @click="selectCountry(country)"><label :for="country" class="tab">{{ country }}</label></input>
                                </li>
                            </ul>
                        </div>
                        <div id="tabSection">
                            <iframe :src="selectedCountry" style="border:1;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                        </div>
                    </div>
                </div>
                <div class="sub-area">
                    <section id="scriptOne" class="content">
                        <div class="contImg">
                            <img src="img/scriptOne.jpg">
                        </div>
                        <div class="contText">
                            <h3 class="cont-title">NEW WORLD ORDER</h3>
                            <span class="cont-en">JUSTICE</span>
                            <p>テキストテキストテキストテキスト</p>
                        </div>
                    </section>
                    <section id="scriptTwo" class="content">
                        <div class="contImg">
                            <img src="img/scriptTwo.jpg">
                        </div>
                        <div class="contText">
                            <h3 class="cont-title">THUNDERBOLTS</h3>
                            <span class="cont-en">VENOM</span>
                            <p>テキストテキストテキストテキスト</p>
                        </div>
                    </section>
                </div>
            </div>
            <div class="right">
                <h2>Creater</h2>
                <section id="profile">
                    <my-component :hero-name="'Kanji Tsugawa'" :hero-image="'img/visual.jpeg'"></my-component>
                    <ul class="text">
                        <li>
                            <h4>プログラミング言語</h4>
                            <p>PHP,Java,Python,javascript</p>
                        </li>
                        <li>
                            <h4>好きな調味料</h4>
                            <p>柚子胡椒</p>
                        </li>
                        <li>
                            <h4>最近ハマっていること</h4>
                            <p>アニメ</p>
                        </li>
                    </ul>
                </section>
                <section id="mail" class="wrapper">
                    <h4>ログイン</h4>
                    <div class="login">
                        <label for="">ID:</label>
                        <input type="email">
                        <label for="">Pass:</label>
                        <input type="password">
                        <div style="display: flex;">
                        <button @click="showTabAlert('ログイン')">ログイン</button>
                        <button @click="showTabAlert('会員登録')">会員登録</button>
                        </div>
                    </div>
                </section>
                <section id="weather" class="weather-erea">
                    <div class="weather_test">
                        <div id="ww_23a0f9fc2e0ef" v='1.3' loc='id' a='{"t":"horizontal","lang":"ja","sl_lpl":1,"ids":["wl6835"],"font":"Arial","sl_ics":"one_a","sl_sot":"celsius","cl_bkg":"#FFFFFF","cl_font":"#000000","cl_cloud":"#d4d4d4","cl_persp":"#2196F3","cl_sun":"#FFC107","cl_moon":"#FFC107","cl_thund":"#FF5722"}'>
                            More forecasts:
                            <a href="https://oneweather.org/ja/tokyo/14_days/" id="ww_23a0f9fc2e0ef_u" target="_blank">
                                14日間の天気予報
                            </a>
                            <script async src="https://app1.weatherwidget.org/js/?id=ww_23a0f9fc2e0ef"></script>
                        </div>
                    </div>
                    <div class="weather_count">
                        <h5>今の天気は・・・</h5>
                        <div class="count_sec">
                            <div class="sun">
                                <p>{{ sunny }}</p>
                                <img src="img/はれ.jpeg" alt="">
                                <input v-if="weatherJudge==false" type="radio" name="weatherName" v-model="weatherName" value="sunny">
                            </div>
                            <div class="rain">
                                <p>{{ rain }}</p>
                                <img src="img/あめ.jpeg" alt="">
                                <input v-if="weatherJudge==false" type="radio" name="weatherName" v-model="weatherName" value="rain">
                            </div>
                            <div class="cloudy">
                                <p>{{ cloudy }}</p>
                                <img src="img/くもり.jpeg" alt="">
                                <input v-if="weatherJudge==false" type="radio" name="weatherName" v-model="weatherName" value="cloudy">
                            </div>
                        </div>
                        <div>
                            <p v-if="weatherName=='' && weatherJudge==false">現在地の天気を選んでください</p>
                            <button v-else-if="weatherJudge==false" :disabled="weatherName==''" @click="plusCount">共有</button>
                            <img v-else src="img/thanks.jpg">
                        </div>
                    </div>
                </section>
                <section id="diary" class="wrapper">
                    <h4>日記</h4>
                    <button @click="showTabAlert('日記を書く')">日記を書く</button>
                    <h5>日記一覧</h5>
                    <div class="diary_list">
                        <ul>
                            <li v-for="item in news" :key="item.id">
                                <a href="#">
                                    <label>・{{ item.title }}</label>
                                    <!-- createdAtで取得した日付時刻を日付型へ変換 -->
                                    <p>投稿日:{{ new Date(item.createdAt).toLocaleDateString() }}</p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </section>
            </div>
        </div>
        <footer>
            <div class="site-foot">
                <p>&copy; Vuejs_kadai_3.かぼす@大分</p>
                <img src="img/mainvisual.jpg" alt="">
            </div>
        </footer>
    </div>
    <script>
        const client = microcms.createClient({
            serviceDomain: "t074o1i29j",
            apiKey: 'sAAbT8i6NWCd0VTYGxbLEH8gM99UhHUk0Rl8',
        });
        let MyComponent = {
            // 画像ポップアップ部分
            template: '<div class="heros"><a :href="heroPic" data-lightbox="group"><img :src="heroImage" width="90%"><p>{{ heroName }}</p></a></div>',
            props: {
                heroName: String,
                heroImage: String,
                heroPic: String
            }
        };
        new Vue({
            el: '#app',
            data: {
                tabList: [
                    "新着",
                    "経済",
                    "エンタメ",
                    "スポーツ",
                    "映画",
                    "アニメ",
                    "IT",
                    "出会い"
                ],
                heroList: [
                    { name: "キャプテンアメリカ", image: 'img/capame.jpg', pic: 'img/cappic.jpeg'},
                    { name: "ムーンナイト", image: 'img/moonnight.jpg', pic: 'img/moonpic.jpg'},
                    { name: "ハルク", image: 'img/hulk.jpg', pic: 'img/hulkpic.webp'},
                    { name: "ドクターストレンジ", image: 'img/drstrange.jpg', pic: 'img/drstpic.jpg'},
                    { name: "スターロード", image: 'img/starroad.jpg', pic: 'img/starpic.jpeg' },
                    { name: "アントマン", image: 'img/antman.jpg', pic: 'img/antpic.jpg' },
                    { name: "ロキ", image: 'img/loki.jpg', pic: 'img/lokipic.jpeg' },
                    { name: "キャプテンマーベル", image: 'img/capmar.jpg', pic: 'img/capmarpic.jpeg' },
                    { name: "ホークアイ", image: 'img/hawkeye.jpg', pic: 'img/hawkpic.jpg' },
                    { name: "アイアンマン", image: 'img/ironman.jpg', pic: 'img/ironpic.jpg' },
                ],
                g7List: [
                    "Japan",
                    "USA",
                    "England",
                    "Germany",
                    "France",
                    "Italy",
                    "Canada"
                ],
                news: [3],
                searchWord: '',
                selectedCountry: 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3337.3732507483355!2d131.601353688855!3d33.230523700000035!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x35469f66a36446ff%3A0x834a29fa93ac7cd6!2z5aSn5YiG5oOF5aCxSVTjgq_jg6rjgqjjgqTjgr_jg7zlsILploDlrabmoKE!5e0!3m2!1sja!2sjp!4v1685327194416!5m2!1sja!2sjp',
                isActive: 0,
                sunny: 0,
                rain: 0,
                cloudy: 0,
                weatherName: '',
                weatherJudge: false
            },
            computed: {},
            components: {
                'my-component': MyComponent
            },
            mounted() {
                this.fetchNews();
            },
            methods: {
                showTabAlert: function (val) {
                    alert("'" + val + "'は工事中だよぉ(´;ω;｀)");
                },
                searchGoogle: function () {
                    if (this.searchWord === '') {
                        location.reload();
                    } else {
                        const searchUrl = 'https://www.google.com/search?q=' + encodeURIComponent(this.searchWord);
                        window.open(searchUrl, '_blank');
                        this.searchWord = '';
                    }
                },
                fetchNews: function () {
                    client.get({
                        endpoint: 'news',
                    }).then((res) => {
                        this.news = res.contents;
                    });
                },
                selectCountry: function (country) {
                    if (country == 'Japan') {
                        this.selectedCountry = 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d207446.76224053852!2d139.74086770000005!3d35.66824365000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188b857628235d%3A0xcdd8aef709a2b520!2z5p2x5Lqs6YO95p2x5Lqs!5e0!3m2!1sja!2sjp!4v1685324183285!5m2!1sja!2sjp';
                    } else if(country == 'USA') {
                        this.selectedCountry = 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d99302.23620726753!2d-77.06290495000003!3d38.94237605!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89b7b7a40938b58b%3A0x1cd074f2a0ca6fd2!2z44Ki44Oh44Oq44Kr5ZCI6KGG5Zu9IOOCs-ODreODs-ODk-OCoueJueWIpeWMuiDjg6_jgrfjg7Pjg4jjg7NELkMuIOODjuODvOOCueOCpuOCp-OCueODiOODu-ODr-OCt-ODs-ODiOODsw!5e0!3m2!1sja!2sjp!4v1685325095523!5m2!1sja!2sjp';
                    } else if(country == 'England') {
                        this.selectedCountry = 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d317716.364741452!2d-0.10159865000000001!3d51.52864165!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47d8a00baf21de75%3A0x52963a5addd52a99!2z44Kk44Ku44Oq44K5IOODreODs-ODieODsw!5e0!3m2!1sja!2sjp!4v1685326465378!5m2!1sja!2sjp';
                    } else if(country == 'Germany') {
                        this.selectedCountry = 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d310844.3631119881!2d13.09508025072822!3d52.50680413855829!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47a84e373f035901%3A0x42120465b5e3b70!2z44OJ44Kk44OEIOODmeODq-ODquODsw!5e0!3m2!1sja!2sjp!4v1685326613411!5m2!1sja!2sjp';
                    } else if(country == 'France') {
                        this.selectedCountry = 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d167997.8370248926!2d2.347035!3d48.85885484999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e66e1f06e2b70f%3A0x40b82c3688c9460!2z44OV44Op44Oz44K5IOODkeODqg!5e0!3m2!1sja!2sjp!4v1685326754315!5m2!1sja!2sjp';
                    } else if(country == 'Italy') {
                        this.selectedCountry = 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d380057.2924788897!2d12.206332499685464!3d41.91011076602215!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x132f6196f9928ebb%3A0xb90f770693656e38!2z44Kk44K_44Oq44KiIOODreODvOODnuecjCDjg63jg7zjg54!5e0!3m2!1sja!2sjp!4v1685326855478!5m2!1sja!2sjp';
                    } else if(country == 'Canada') {
                        this.selectedCountry = 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d719085.8519782682!2d-76.4597187109737!3d45.249226269846176!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4cce05b25f5113af%3A0x8a6a51e131dd15ed!2z44Kr44OK44OAIOOCquODs-OCv-ODquOCqiDjgqrjgr_jg68!5e0!3m2!1sja!2sjp!4v1685326945939!5m2!1sja!2sjp';
                    } else {
                        this.selectedCountry = '';
                    }
                },
                minButton: function() {
                    this.isActive--;
                    if (this.isActive < 0) {
                        this.isActive = 2;
                    }
                },
                pluButton: function() {
                    this.isActive++;
                    if (this.isActive > 2) {
                        this.isActive = 0;
                    }
                },
                plusCount: function() {
                    if (this.weatherName == "sunny") {
                        this.sunny += 1;
                    }
                    else if (this.weatherName == "rain") {
                        this.rain += 1;
                    } else if (this.weatherName == "cloudy") {
                        this.cloudy += 1;
                    } else {
                        // 何もしない
                    }
                    this.weatherName = '';
                    this.weatherJudge = true;
                }
            }
        });
    </script>
    <style>
        /* 現れている最中と、消えている最中は、0.5秒 */
        .v-enter-active, .v-leave-active {
            transition: 0.2s;
        }
        /* 現れる前の状態と、消えたときの状態は、透明度0で、下へ20移動*/
        .v-enter, .v-leave-to {
            opacity: 0;
            transform: translateX(20px)
        }
    </style>
</body>
</html>
